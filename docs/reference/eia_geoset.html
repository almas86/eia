<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>EIA geoset data — eia_geoset • eia</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />
<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  
<meta property="og:title" content="EIA geoset data — eia_geoset" />

<meta property="og:description" content="Obtain EIA geoset data." />

<meta property="og:image" content="http://leonawicz.github.io/eia/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eia</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="../articles/eia.html">Get Started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/categories.html">Categories</a>
    </li>
    <li>
      <a href="../articles/series.html">Time series</a>
    </li>
    <li>
      <a href="../articles/geoset.html">Geosets</a>
    </li>
    <li>
      <a href="../articles/api.html">API details</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/leonawicz/eia">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>EIA geoset data</h1>
    <small class="dont-index">Source: <a href='https://github.com/leonawicz/eia/blob/master/R/geoset.R'><code>R/geoset.R</code></a></small>
    <div class="hidden name"><code>eia_geoset.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Obtain EIA geoset data.</p>
    
    </div>

    <pre class="usage"><span class='fu'>eia_geoset</span>(<span class='no'>key</span>, <span class='no'>id</span>, <span class='no'>region</span>, <span class='kw'>start</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>end</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>tidy</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>cache</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>key</th>
      <td><p>character, API key.</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>character, geoset series ID, may be a vector. See details.</p></td>
    </tr>
    <tr>
      <th>region</th>
      <td><p>character, region ID, may be a vector. Data available for the intersection of <code>id</code> and <code>region</code> is returned.</p></td>
    </tr>
    <tr>
      <th>start</th>
      <td><p>start date. Providing only a start date will return up to the maximum 100 results if available.</p></td>
    </tr>
    <tr>
      <th>end</th>
      <td><p>end date. Providing only an end date will a single result for that date.</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>integer, length of series to return ending at most recent value or at <code>end</code> date if also provided. Ignored if <code>start</code> is not <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>tidy</th>
      <td><p>logical, return a tidier result. See details.</p></td>
    </tr>
    <tr>
      <th>cache</th>
      <td><p>logical, cache result for duration of R session using memoization. See details.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a tibble data frame (or a list, or character, depending on <code>tidy</code> value)</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>id</code> may be a vector. This should only be done with <code>tidy = TRUE</code> if the tidied results can be properly row bound.
The geoset API calls allow multiple regions, but expect a single series ID. This function will one API call per series ID.
There is an expectation of similarly formatted series that can be row bound. If the IDs are for differently structured data that cannot be tidily row bound,
you may as well make separate requests since each requires a unique API call either way.</p>
<p>By default, additional processing is done to return a tibble data frame.
Set <code>tidy = FALSE</code> to return only the initial list result of <code><a href='https://www.rdocumentation.org/packages/jsonlite/topics/fromJSON'>jsonlite::fromJSON</a></code>.
Set <code>tidy = NA</code> to return the original JSON as a character string.</p>
<p>Set to <code>cache = FALSE</code> to force a new API call for updated data.
Using <code>FALSE</code> always makes a new API call and returns the result from the server.
<code>TRUE</code> uses memoization on a per R session basis, caching the result of the function call in memory for the duration of the R session.
You can reset the entire cache by calling <code><a href='eia_clear_cache.html'>eia_clear_cache()</a></code>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='eia_clear_cache.html'>eia_clear_cache</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='no'>key</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/Sys.getenv'>Sys.getenv</a></span>(<span class='st'>"EIA_KEY"</span>) <span class='co'># your stored API key</span>
<span class='no'>id</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/paste'>paste0</a></span>(<span class='st'>"ELEC.GEN.ALL-99."</span>, <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"A"</span>, <span class='st'>"Q"</span>, <span class='st'>"M"</span>))
<span class='no'>region</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"USA-CA"</span>, <span class='st'>"USA-NY"</span>)

<span class='fu'>eia_geoset</span>(<span class='no'>key</span>, <span class='no'>id</span>[<span class='fl'>1</span>], <span class='no'>region</span>[<span class='fl'>1</span>], <span class='kw'>start</span> <span class='kw'>=</span> <span class='fl'>2016</span>)
<span class='fu'>eia_geoset</span>(<span class='no'>key</span>, <span class='no'>id</span>[<span class='fl'>2</span>], <span class='no'>region</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>5</span>)
<span class='fu'>eia_geoset</span>(<span class='no'>key</span>, <span class='no'>id</span>[<span class='fl'>3</span>], <span class='no'>region</span>[<span class='fl'>2</span>], <span class='kw'>end</span> <span class='kw'>=</span> <span class='fl'>2016</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>5</span>)

<span class='co'># multiple series counted as a single API call</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>eia_geoset</span>(<span class='no'>key</span>, <span class='no'>id</span>, <span class='no'>region</span>[<span class='fl'>1</span>], <span class='kw'>end</span> <span class='kw'>=</span> <span class='fl'>2016</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>5</span>)
<span class='no'>x</span>$<span class='no'>data</span><span class='kw'>[[</span><span class='fl'>1</span>]]

<span class='co'># Use direct US state abbreviations or names;</span>
<span class='co'># Use US Census region and division names.</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>eia_geoset</span>(<span class='no'>key</span>, <span class='no'>id</span>[<span class='fl'>2</span>], <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"AK"</span>, <span class='st'>"New England"</span>), <span class='kw'>end</span> <span class='kw'>=</span> <span class='fl'>2016</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>1</span>)
<span class='no'>x</span>$<span class='no'>data</span><span class='kw'>[[</span><span class='fl'>1</span>]]
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://leonawicz.github.io/'>Matthew Leonawicz</a>, <a href='https://www.esource.com/'><img src="https://raw.githubusercontent.com/leonawicz/leonawicz.github.io/master/assets/img/esource_logo.png" height="24" /></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

